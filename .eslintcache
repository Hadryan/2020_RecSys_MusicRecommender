[{"C:\\Users\\james\\OneDrive\\바탕 화면\\한양대\\한양대 인공지능 동아리\\2020_RecSys_MusicRecommender\\src\\components\\player\\MusicPlayer.js":"1","C:\\Users\\james\\OneDrive\\바탕 화면\\한양대\\한양대 인공지능 동아리\\2020_RecSys_MusicRecommender\\src\\App.js":"2","C:\\Users\\james\\OneDrive\\바탕 화면\\한양대\\한양대 인공지능 동아리\\2020_RecSys_MusicRecommender\\src\\index.js":"3"},{"size":2031,"mtime":1608193256968,"results":"4","hashOfConfig":"5"},{"size":212,"mtime":1608193256966,"results":"6","hashOfConfig":"5"},{"size":205,"mtime":1608193256968,"results":"7","hashOfConfig":"5"},{"filePath":"8","messages":"9","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"10"},"i1ep7t",{"filePath":"11","messages":"12","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"13","messages":"14","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\james\\OneDrive\\바탕 화면\\한양대\\한양대 인공지능 동아리\\2020_RecSys_MusicRecommender\\src\\components\\player\\MusicPlayer.js",["15"],"import React, { useState, useEffect } from 'react';\r\nimport AsyncSelect from 'react-select/async';\r\nimport makeAnimated from 'react-select/animated';\r\nimport YouTube from 'react-youtube'\r\nimport './MusicPlayer.css'\r\nimport List from 'react-list-select'\r\n\r\nconst animatedComponent = makeAnimated()\r\n\r\nfunction MusicPlayer() {\r\n  const [selectedPlaylist, setSelectedPlaylist] = useState([]);\r\n  const [playlist, setPlaylist] = useState([]);\r\n  const [videoId, setVideoId] = useState(\"\");\r\n\r\n  const loadOptions = async (inputText, callback) => {\r\n    const response = await fetch(`/api/search?title=${inputText}`)\r\n    const json = await response.json()\r\n    console.log(json)\r\n    callback(json.result)\r\n  }\r\n\r\n  const onClick = async () => {\r\n    setPlaylist([{'label':'Inferencing...', 'value':0}])\r\n    const response = await fetch('/api/recommendation', {\r\n      method: 'POST',\r\n      cache: 'no-cache',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(selectedPlaylist)\r\n    }).then(response => response.json());\r\n    setPlaylist(response.result);\r\n  }\r\n\r\n  const onChange = (selected) => {\r\n    setVideoId(playlist[selected].videoId)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <h1>HAI Music Recommendation</h1>\r\n      <div style={{display: 'flex'}}>\r\n        <div style={{flex:100}}>\r\n          <AsyncSelect\r\n            isMulti\r\n            components={animatedComponent}\r\n            value={selectedPlaylist}\r\n            onChange={setSelectedPlaylist}\r\n            placeholder={'type your playlist...'}\r\n            loadOptions={loadOptions}\r\n          />\r\n        </div>\r\n        <div style={{flex:1}}>\r\n          <button onClick={onClick}>\r\n            Submit\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <YouTube videoId={videoId} containerClassName={\"youtubeContainer\"} />\r\n      <h3>Recommended Playlists</h3>\r\n      <List\r\n        items={playlist.map(item => item.label)}\r\n        onChange={onChange}\r\n      />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default MusicPlayer;\r\n","C:\\Users\\james\\OneDrive\\바탕 화면\\한양대\\한양대 인공지능 동아리\\2020_RecSys_MusicRecommender\\src\\App.js",[],"C:\\Users\\james\\OneDrive\\바탕 화면\\한양대\\한양대 인공지능 동아리\\2020_RecSys_MusicRecommender\\src\\index.js",[],{"ruleId":"16","severity":1,"message":"17","line":1,"column":27,"nodeType":"18","messageId":"19","endLine":1,"endColumn":36},"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar"]